{"ast":null,"code":"var _jsxFileName = \"/Users/jefflee/Desktop/2021 /Dev/react-guestbook/guestbook-frontend/src/components/MessageList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport MessageItem from './MessageItem';\nimport axios from 'axios';\nimport { set } from 'harmony-reflect';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MessageList() {\n  _s();\n\n  const [messages, setMessages] = useState(null);\n  const [loading, setLoading] = useState(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const getMessages = async () => {\n      try {\n        setError(null);\n        setMessages(null);\n        setLoading(true);\n        const response = await axios.get('http://localhost:80/message/read');\n        setMessages(response.data);\n      } catch (e) {\n        console.log(\"에러 발생 : \" + e);\n        setError(e);\n      }\n\n      setLoading(false);\n    };\n\n    getMessages();\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\uB85C\\uB529 \\uC911...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 24\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"\\uC5D0\\uB7EC \\uBC1C\\uC0DD...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 22\n  }, this);\n  if (!messages) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: messages.data.map(message => /*#__PURE__*/_jsxDEV(MessageItem, {\n      username: message.username,\n      message: message.message,\n      date: message.date\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MessageList, \"DSPwArIQZqyBwnkX9wDd6OPIIvE=\");\n\n_c = MessageList;\nexport default MessageList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MessageList\");","map":{"version":3,"sources":["/Users/jefflee/Desktop/2021 /Dev/react-guestbook/guestbook-frontend/src/components/MessageList.js"],"names":["React","useState","useEffect","MessageItem","axios","set","MessageList","messages","setMessages","loading","setLoading","error","setError","getMessages","response","get","data","e","console","log","map","message","username","date"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,iBAApB;;;AAEA,SAASC,WAAT,GAAuB;AAAA;;AACnB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,IAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AAEZ,UAAMW,WAAW,GAAG,YAAY;AAC5B,UAAG;AAECD,QAAAA,QAAQ,CAAC,IAAD,CAAR;AACAJ,QAAAA,WAAW,CAAC,IAAD,CAAX;AAEAE,QAAAA,UAAU,CAAC,IAAD,CAAV;AACA,cAAMI,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAN,CAAU,kCAAV,CAAvB;AACAP,QAAAA,WAAW,CAACM,QAAQ,CAACE,IAAV,CAAX;AAEH,OATD,CASE,OAAMC,CAAN,EAAS;AACPC,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAYF,CAAxB;AACAL,QAAAA,QAAQ,CAACK,CAAD,CAAR;AACH;;AACDP,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAfD;;AAiBAG,IAAAA,WAAW;AAEd,GArBQ,EAqBN,EArBM,CAAT;AAuBA,MAAGJ,OAAH,EAAY,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACZ,MAAGE,KAAH,EAAU,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACV,MAAG,CAACJ,QAAJ,EAAc,OAAO,IAAP;AACd,sBACI;AAAA,cAEKA,QAAQ,CAACS,IAAT,CAAcI,GAAd,CAAkBC,OAAO,iBACtB,QAAC,WAAD;AAAa,MAAA,QAAQ,EAAEA,OAAO,CAACC,QAA/B;AAAyC,MAAA,OAAO,EAAED,OAAO,CAACA,OAA1D;AAAmE,MAAA,IAAI,EAAEA,OAAO,CAACE;AAAjF;AAAA;AAAA;AAAA;AAAA,YADH;AAFL;AAAA;AAAA;AAAA;AAAA,UADJ;AASH;;GAxCQjB,W;;KAAAA,W;AA0CT,eAAeA,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react'; \nimport MessageItem from './MessageItem';\nimport axios from 'axios';\nimport { set } from 'harmony-reflect';\n\nfunction MessageList() {\n    const [messages, setMessages] = useState(null);\n    const [loading, setLoading] = useState(null);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n\n        const getMessages = async () => {\n            try{\n            \n                setError(null);\n                setMessages(null);\n\n                setLoading(true);\n                const response = await axios.get('http://localhost:80/message/read');\n                setMessages(response.data);\n\n            } catch(e) {\n                console.log(\"에러 발생 : \" +e);\n                setError(e);\n            }\n            setLoading(false);\n        };\n\n        getMessages();\n\n    }, []);\n\n    if(loading) return(<div>로딩 중...</div>);\n    if(error) return(<div>에러 발생...</div>);\n    if(!messages) return(null); \n    return(\n        <div>\n\n            {messages.data.map(message => (\n                <MessageItem username={message.username} message={message.message} date={message.date} />\n            ))}\n\n        </div>\n    )\n}\n\nexport default MessageList; "]},"metadata":{},"sourceType":"module"}